<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>H&N калькулятор</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="calculator">

    <header>
      <img src="image/logo-dark2.png" width="35" height="35" alt="" >
      <!-- <h3>Калькулятор материалов</h3> -->
      <h3>
        <span style="--i:1">К</span>
        <span style="--i:2">а</span>
        <span style="--i:3">л</span>
        <span style="--i:4">ь</span>
        <span style="--i:5">к</span>
        <span style="--i:6">у</span>
        <span style="--i:7">л</span>
        <span style="--i:8">я</span>
        <span style="--i:9">т</span>
        <span style="--i:10">о</span>
        <span style="--i:11">р</span>         
      </h3>
            
      <select id="machines">
        <option value="Fantasia">Fantasia</option>
        <option value="Fantasia2">Fantasia2</option>
        <option value="Arcil84">Arcil84</option>
        <option value="Arcil81">Arcil81</option>
        <option value="Arcil93">Arcil93</option>
        <option value="Arcil10">Arcil10</option>
        <option value="Arcil61">Arcil61</option>
        <option value="Ermi95">Ermi95</option>
        <option value="Ermi2">Ermi2</option>
        <option value="Ermi3">Ermi3</option>
        <option value="Procomac">Procomac</option>
        <option value="Serac1">Serac1</option>
        <option value="Serac2">Serac2</option>
        <option value="Sidel">Sidel</option>
        <option value="Mariane">Mariane</option>
      </select>       
    </header>    

    <div class="input-group">
      <div class="input-group-plan">
        <label for="plan">План</label>
        <input type="number" id="plan"  min="0">
      </div>
      <div class="input-group-plan">
        <label for="plan2">План2</label>
        <input type="number" id="plan2" min="0">
      </div>
      <div>     
        <label for="tact">Циклы/Такты</label>
        <input type="number2" id="tact" min="0">
      </div>
    </div>        
        
    <div class="input-group">      
        <p>Всего план: </p>
        <p id="planTotal">
  	</div>
        
    <div class="results">

			<div class="result-item">
        <span class="pallet">Паллет ГП готово </span>
        <span id="pallet" class="pallet-value">0 </span>
      </div>

      <div class="result-item2">
        <span class="pallet2">Паллет ГП нужно изготовить</span>
        <span id="pallet2" class="pallet2-value">0 </span>
      </div>

      <div class="result-item2">
        <span class="pallet2">Рассчётное время:</span>
        <span id="pallet2" class="pallet2-value">0 </span>
      </div>

			<div class="divider"></div>

      <h3 class="title">Расходные материалы:</h3>
            
        <div class="result-item">
          <span class="result-label">Бабин этикеток (!)</span>
          <span id="sticker" class="result-value">0</span>
        </div>
            
        <div class="result-item">
          <span class="result-label">Бабин обратн. этикеток (!)</span>
          <span id="sticker2" class="result-value">0 </span>
        </div>
            
        <div class="result-item">
          <span class="result-label">Бабин фольги (!)</span>
          <span id="foil" class="result-value">0 </span>
        </div>

        <div class="result-item">
          <span class="result-label">Коробок с шариками</span>
          <span id="ball" class="result-value">0 </span>
        </div>

        <div class="result-item">
          <span class="result-label">Паллет с шариками (!)</span>
          <span id="palletBall" class="result-value">0 </span>
        </div>
    </div>

  </div>

  <script>
    // Получаем элементы ввода
    const planInput = document.getElementById('plan');
    const plan2Input = document.getElementById('plan2');
    const planTotalInput = document.getElementById('planTotal');
    const tactInput = document.getElementById('tact'); 						// циклы

    // Получаем элементы для вывода результатов
    const palletSpan = document.getElementById('pallet'); // Паллет готовой продукции
    const pallet2Span = document.getElementById('pallet2'); // Паллет ГП нужно изготовить
    const stickerSpan = document.getElementById('sticker'); // Этикетка
    const sticker2Span = document.getElementById('sticker2'); // обратная этикетка
    const foilSpan = document.getElementById('foil'); // Фольга
    const ballSpan = document.getElementById('ball'); // Короб шар
    const palletBallSpan = document.getElementById('palletBall'); // Короб шар
        
    // =======> Функция для расчета
    function calculateMortgage() {
			
      // Получаем значения из полей ввода
      const plan = parseFloat(planInput.value) || 0;
      const plan2 = parseFloat(plan2Input.value) || 0;
      const planTotal = parseFloat(planTotalInput.value) || 0;
      const tact = parseFloat(tactInput.value) || 0;		// циклы

      // palletSpan.textContent 
      let a = palletSpan.textContent = (tact / 240).toFixed(1);
      planTotalInput.textContent = (plan + plan2);
      let b = planTotalInput.textContent
      pallet2Span.textContent = (b - a).toFixed(1);
      let c = pallet2Span.textContent  // паллет готовой продукции

      stickerSpan.textContent = (c / 3.5).toFixed(1);
      sticker2Span.textContent = (c / 3.5).toFixed(1);
      foilSpan.textContent = (c / 12).toFixed(1);
      ballSpan.textContent = (c / 0.47619).toFixed(1);
      palletBallSpan.textContent = (c / 11.4).toFixed(1);

      console.log(a);
      // console.log(plan);
    }
        
    // Добавляем обработчики событий для полей ввода
    planInput.addEventListener('input', calculateMortgage);
    plan2Input.addEventListener('input', calculateMortgage);
    tactInput.addEventListener('input', calculateMortgage);
    planTotalInput.addEventListener('input', calculateMortgage);
        
        // Вызываем функцию расчета при загрузке страницы
    calculateMortgage();
        
  </script>
</body>

</html>
