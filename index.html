<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>H&N калькулятор</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="calculator">

    <div class="input-group2">
      <img src="image/logo-dark2.png" width="35" height="35" alt="" >
      <h1>Калькулятор материалов</h1>
    </div>

    

    <div class="input-group">        
      <select id="machines">
        <option value="Fantasia">Fantasia</option>
        <option value="Fantasia2">Fantasia2</option>
        <option value="Arcil84">Arcil84</option>
        <option value="Arcil81">Arcil81</option>
        <option value="Arcil93">Arcil93</option>
        <option value="Arcil10">Arcil10</option>
        <option value="Arcil61">Arcil61</option>
        <option value="Ermi95">Ermi95</option>
        <option value="Ermi2">Ermi2</option>
        <option value="Ermi3">Ermi3</option>
        <option value="Procomac">Procomac</option>
        <option value="Serac1">Serac1</option>
        <option value="Serac2">Serac2</option>
        <option value="Sidel">Sidel</option>
        <option value="Mariane">Mariane</option>
      </select>
    </div>

    <div class="input-group2">
      <div>
        <label for="plan">План</label>
        <input type="number" id="plan"  min="0" value="0">
      </div>

      <div>
        <label for="plan">План2</label>
        <input type="number" id="plan2" min="0" value="0">
      </div>

      <div>
        <label for="plan">Всего:</label>
        <input type="number" id="planTotal" min="0" value="0">
      </div>

    </div>      
        
        
    <div class="input-group2">
      <div>
                
        <label for="tact">Циклы</label> <!-- interestRate => tact -->
        <input type="number" id="tact" min="0" value="0">
      </div>
      <div>
        <label for="interestRate">Оставшиеся циклы</label>
        <input type="number" id="interestRate"  min="0" value="0">
      </div>            
  	</div>
        
        <!-- <div class="input-group">
            <label for="initialPayment">Первоначальный взнос (руб.)</label>
            <input type="number" id="initialPayment" placeholder="Введите первоначальный взнос" min="0" value="1000000">
        </div> -->
        
        <!-- <div class="input-group">
            <label for="loanTerm">План (вариант отображения)</label>
            <div class="slider-container">
                <input type="range" id="loanTermSlider" min="1" max="150" value="0">
                <span class="slider-value" id="loanTermValue">0</span>
            </div>
            <input type="number" id="loanTerm" min="1" max="30" value="0">
        </div> -->
        
    <div class="results">

			<div class="result-item">
        <span class="result-label">Паллет готовой продукции</span>
        <span id="pallet" class="result-value monthly-payment">0 </span>
      </div>

			<div class="divider"></div>

      <h3>Расходные материалы:</h3>
            
        <div class="result-item">
          <span class="result-label">Бабин этикеток</span>
          <span id="creditBalance" class="result-value">0</span>
        </div>
            
        <div class="result-item">
          <span class="result-label">Бабин обратн. этикеток</span>
          <span id="totalAmount" class="result-value total-amount">0 </span>
        </div>
            
        <div class="result-item">
          <span class="result-label">Бабин фольги</span>
          <span id="overpayment" class="result-value">0 </span>
        </div>
    </div>

  </div>

  <script>
    // Получаем элементы ввода
    const planInput = document.getElementById('plan');
    const plan2Input = document.getElementById('plan2');
    const planTotalInput = document.getElementById('planTotal');
    const tactInput = document.getElementById('tact'); 						// циклы

   
    const initialPaymentInput = document.getElementById('initialPayment');
    const loanTermInput = document.getElementById('loanTerm');
    const loanTermSlider = document.getElementById('loanTermSlider');
    const loanTermValue = document.getElementById('loanTermValue');
        
    // Получаем элементы для вывода результатов
    const palletSpan = document.getElementById('pallet'); // Паллет готовой продукции
    const creditBalanceSpan = document.getElementById('creditBalance');
    const totalAmountSpan = document.getElementById('totalAmount');
    const overpaymentSpan = document.getElementById('overpayment');
        
    // Функция для расчета ипотеки
    function calculateMortgage() {
			
      // Получаем значения из полей ввода
      const plan = parseFloat(planInput.value) || 0;
      const tact = parseFloat(tactInput.value) || 0;		// циклы

            // const initialPayment = parseFloat(initialPaymentInput.value) || 0;
            // const loanTerm = parseFloat(loanTermInput.value) || 0;
            
            // Рассчитываем сумму кредита
      			// const loanAmount = Math.max(flatPrice - initialPayment, 0);
            
            // Рассчитываем ежемесячный платеж по формуле аннуитетного платежа
            // const monthlyInterestRate = (interestRate / 100) / 12;
            // const numberOfPayments = loanTerm * 12;
            
            // let monthlyPayment = 0;
            // if (monthlyInterestRate > 0) {
            //     monthlyPayment = loanAmount * 
            //         (monthlyInterestRate * Math.pow(1 + monthlyInterestRate, numberOfPayments)) / 
            //         (Math.pow(1 + monthlyInterestRate, numberOfPayments) - 1);
            // } else if (loanAmount > 0) {
            //     monthlyPayment = loanAmount / numberOfPayments;
            // }
            
            // Рассчитываем общую сумму выплат и переплату
            // const totalAmount = monthlyPayment * numberOfPayments;
            // const overpayment = totalAmount - loanAmount;
            
            // Обновляем результаты на странице
            // monthlyPaymentSpan.textContent = monthlyPayment.toFixed(2) + ' руб.';
      palletSpan.textContent = (tact / 240).toFixed(2);
            // creditBalanceSpan.textContent = loanAmount.toFixed(2) + ' руб.';
            // totalAmountSpan.textContent = totalAmount.toFixed(2) + ' руб.';
            // overpaymentSpan.textContent = overpayment.toFixed(2) + ' руб.';
    }
        
        // Добавляем обработчики событий для полей ввода
        planInput.addEventListener('input', calculateMortgage);
        tactInput.addEventListener('input', calculateMortgage);
        // initialPaymentInput.addEventListener('input', calculateMortgage);
        
        // Вызываем функцию расчета при загрузке страницы
    calculateMortgage();
        
  </script>
</body>
</html>